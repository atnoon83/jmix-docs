= tooltip

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/context-help-tooltip" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Всплывающая подсказка (`tooltip`) - это небольшое всплывающее окно, которое может предоставить дополнительную информацию об элементе пользовательского интерфейса при наведении курсора мыши и фокусировке с помощью клавиатуры.

[cols="1h,6", grid=none]
|===
|XML-элемент
|`tooltip`
|Атрибуты
|<<focusDelay,focusDelay>> -
<<hideDelay,hideDelay>> -
<<hoverDelay,hoverDelay>> -
<<manual,manual>> -
<<opened,opened>> -
<<position,position>> -
<<text,text>>
|===

== Основы

`tooltip` является вложенным элементом почти всех компонентов и контейнеров.

TIP: Чтобы добавить вложенный `tooltip` в Jmix Studio, выберите элемент пользовательского интерфейса в XML-дескрипторе экрана или на панели структуры *Jmix UI* и нажмите кнопку xref:studio:screen-designer.adoc#component-inspector-add-button[Add]*->Tooltip* на панели инспектора *Jmix UI*.

Пример определения xref:flow-ui:vc/components/button.adoc[кнопки] со всплывающей подсказкой:

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/button/button-view.xml[tags=tooltip-btn]
----

image::visual-components/components/tooltip-basic.gif[align="center",width="293"]

[[programmatic-tooltip]]
== Программное определение

Компонент `tooltip` можно определить программно в коде вашего приложения. Вот пример того, как вы можете программно определить и использовать всплывающую подсказку для компонента `textField`:

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/tooltip/TooltipView.java[tags=programmaticField;onInit;set-programmatic]
----

[[about-positioning]]
== Настройка расположения

Всплывающая подсказка, по умолчанию, позиционируется относительно целевого компонента, к которому она прикреплена. Фреймворк автоматически вычисляет оптимальное место для отображения всплывающей подсказки, учитывая доступное пространство на экране и избегая перекрытия с другими элементами.

Атрибут `position` напрямую влияет на расположение всплывающей подсказки на экране, позволяя вам управлять тем, где она отображается. Атрибут `position` принимает значения из перечисления `TooltipPosition`.

Вы можете задать атрибут `position` с помощью метода `setPosition()` в вашем коде:

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/tooltip/TooltipView.java[tags=set-position]
----

В XML-дескрипторе экрана вы можете указать атрибут `position`:

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/tooltip/tooltip-view.xml[tags=position]
----

[[configuring-delays]]
== Управление задержками

`tooltip` позволяет настроить задержки для появления и исчезновения всплывающей подсказки, что дает вам возможность управлять временем взаимодействия подсказки с пользователем.

[[about-focus-delay]]
*Задержка фокусировки*

Атрибут `focusDelay` управляет задержкой, в миллисекундах, перед появлением всплывающей подсказки, когда курсор мыши наводится на компонент с элементом `tooltip`.

В этом примере всплывающая подсказка появится после 500-миллисекундной задержки, когда курсор мыши наводится на текстовое поле:

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/tooltip/tooltip-view.xml[tags=focusDelay]
----

[[about-hide-delay]]
*Задержка скрытия*

Атрибут `hideDelay` управляет задержкой, в миллисекундах, перед скрытием всплывающей подсказки, когда курсор мыши уходит с компонента с элементом `tooltip`.

В этом примере всплывающая подсказка будет оставаться видимой в течение 1 секунды после того, как курсор мыши уйдет с текстового поля, прежде чем исчезнуть:

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/tooltip/tooltip-view.xml[tags=hideDelay]
----

[[about-hover-delay]]
*Задержка наведения*

Атрибут `hoverDelay` управляет задержкой, в миллисекундах, перед появлением всплывающей подсказки, когда курсор мыши наводится на компонент с элементом `tooltip`.

В этом примере всплывающая подсказка появится после 500-миллисекундной задержки, когда курсор мыши наводится на текстовое поле:

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/tooltip/tooltip-view.xml[tags=hoverDelay]
----

[[triggering-manually]]
== Принудительное отображение

Вы можете настроить всплывающие подсказки так, чтобы они отображались программно, то есть они не будут появляться при наведении курсора или фокусировке, а только при вызове вашим кодом. Это особенно полезно, когда:

* Вам необходимо отобразить всплывающую подсказку на основе определенных условий или взаимодействий пользователя.
* Содержимое всплывающей подсказки должно генерироваться или обновляться динамически.

В XML-дескрипторе экрана установите атрибут `manual` в значение `true`. Это означает, что всплывающая подсказка не будет отображаться автоматически и требует ручного управления.

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/tooltip/tooltip-view.xml[tags=manual]
----

Затем настройте всплывающую подсказку в контроллере экрана.

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/tooltip/TooltipView.java[tags=manualTextField;uiComponents;onInit;manual;createHelperButton]
----

<1> Атрибут `opened` управляет тем, видна ли всплывающая подсказка в данный момент. Это булево значение, где `true` означает, что подсказка открыта, а `false` - что она закрыта.

NOTE: Хотя `opened` можно устанавливать вручную, обычно им управляет сам фреймворк на основе событий, таких как наведение курсора мыши или фокусировка. Этот атрибут полезен для управления видимостью всплывающей подсказки в сценариях, где вам необходимо программно открыть или закрыть ее.

== Атрибуты

Ниже представлены атрибуты, специфичные для `tooltip`:

[cols="1h,5,1", grid=rows, frame=none]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*
|[[focusDelay]]focusDelay
|Определяет задержку в миллисекундах перед открытием всплывающей подсказки при фокусировке с помощью клавиатуры, если `tooltip` находится не в ручном режиме. Смотрите <<about-focus-delay,Задержка фокусировки>>.
|`0`
|[[hideDelay]]hideDelay
|Определяет задержку в миллисекундах перед закрытием всплывающей подсказки при уходе курсора мыши, если `tooltip` находится не в ручном режиме. При потере фокуса (blur) всплывающая подсказка закрывается немедленно. Смотрите <<about-hide-delay,Задержка скрытия>>.
|`0`
|[[hoverDelay]]hoverDelay
|Определяет задержку в миллисекундах перед открытием всплывающей подсказки при наведении курсора мыши, если `tooltip` находится не в ручном режиме. Смотрите <<about-hover-delay,Задержка наведения>>.
|`0`
|[[manual]]manual
|Если установлено в `true`, всплывающая подсказка управляется программно, а не реагирует на события фокусировки и мыши. Смотрите <<triggering-manually,Принудительное отображение>>.
|`false`
|[[opened]]opened
|Если установлено в `true`, всплывающая подсказка открывается программно. Работает, только если `manual` установлено в `true`. Смотрите <<triggering-manually,Принудительное отображение>>.
|`false`
|[[position]]position
|Определяет позицию всплывающей подсказки относительно ее целевого элемента. Смотрите <<about-positioning,Настройка расположения>>.
|
|[[text]]text
|Определяет строку, используемую в качестве содержимого всплывающей подсказки.
|
|===

== Смотрите также

Смотрите {vaadin-docs}/components/tooltip[документацию Vaadin^] для получения дополнительной информации.